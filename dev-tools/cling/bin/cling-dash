#!/bin/sh

if  [ "$DASH_BASE" = "" ] ;
then
  echo "Environment variable DASH_BASE not set"
  echo "Set DASH_BASE to installation path of DASH"
  exit -1
fi

echo "Loading DASH from (DASH_BASE):"
echo "  ${DASH_BASE}"
echo "Note: requires DASH-MPI build option BUILD_SHARED_LIBRARIES=ON"
echo "-----------------------------------------------------------------"

cling -std=c++14 \
      -DDART_ENABLE_LOGGING \
      -DDASH_ENABLE_LOGGING \
      -DDASH_ENABLE_TRACE_LOGGING \
      -I ${DASH_BASE}/include/ \
      -L ${DASH_BASE}/lib \
      -l libdart-base \
      -l libdart-mpi \
      -l libdash-mpi \
      -fcxx-exceptions \
      '#include <libdash.h>' 'dash::init(0,0)'


